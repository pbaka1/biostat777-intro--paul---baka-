{"title":"Example analysis: Palmer Penguins","markdown":{"yaml":{"title":"Example analysis: Palmer Penguins","bibliography":"references.bib","link-citations":true,"format":{"html":{"df-print":"paged"}}},"headingText":"Plot A-Scatter plot","containsRefs":false,"markdown":"\n\n```{r}\n#| label: setup \n\n#| include: false \n\nlibrary(tidyverse) \n\nlibrary(palmerpenguins) \n\nlibrary(janitor)\n\n library(lubridate) \n\nlibrary(gt) \n\ntheme_set(theme_minimal(base_size = 13))\n\n\n```\n\n::: callout-important\n**Question.** How do **species** and **island** relate to **body mass** and **bill measurements** in penguins, and what patterns emerge across **sex**?\n\n**Intended audience.** Public-health and ecology students learning tidy data analysis and visualization who want an approachable, fully reproducible example.\n:::\n\n::: column-margin\n**Margin note:** The Palmer Archipelago hosts Adelie, Gentoo, and Chinstrap penguins—classic for tidyverse teaching.\n:::\n\n-   **Original data:** The palmerpenguins R package provides cleaned measurements of penguins from the Palmer Archipelago, Antarctica \\[\\@horst2020palmerpenguins\\].\n\n    **Where to get it:** CRAN package palmerpenguins.\n\n    **Data dictionary:** https://allisonhorst.github.io/palmerpenguins/reference/penguins.html\n\n    # \n    Minimal Wrangling\n\n```{r}\npeng <- penguins |>\n  janitor::clean_names() |>                                 # clean_names()  — janitor\n  tidyr::drop_na(species, island, sex, body_mass_g,\n                 bill_length_mm, bill_depth_mm) |>          # drop_na()     — tidyr\n  dplyr::mutate(\n    body_mass_kg = body_mass_g / 1000,                      # mutate()      — dplyr\n    species = forcats::fct_reorder(species, body_mass_kg, .fun = median)\n  ) |>\n  dplyr::select(species, island, sex, bill_length_mm,\n                bill_depth_mm, body_mass_kg) |>             # select()      — dplyr\n  dplyr::arrange(species, island)                           # arrange()     — dplyr\n\nlong_bills <- peng |>\n  tidyr::pivot_longer(                                      # pivot_longer()— tidyr\n    c(bill_length_mm, bill_depth_mm),\n    names_to = \"bill_metric\",\n    values_to = \"bill_value\"\n  )\n```\n\n\n```{r}\nggplot(peng, aes(bill_length_mm, bill_depth_mm, color = species)) +\n  geom_point(alpha = 0.7) +                    # geom_point()\n  geom_smooth(se = FALSE, method = \"loess\") +  # geom_smooth()\n  labs(\n    title = \"Bill length vs. depth by species\",\n    subtitle = \"Distinct morphologies separate species in bill space\",\n    x = \"Bill length (mm)\",\n    y = \"Bill depth (mm)\",\n    caption = \"Data: palmerpenguins\"\n  )\n```\n\n# **Plot B- Boxplot (Faceted)**\n\n```{r}\nggplot(peng, aes(species, body_mass_kg, fill = species)) +\n  geom_boxplot(outlier.alpha = 0.4) +          # geom_boxplot()\n  facet_wrap(~ island) +                       # faceting requirement\n  labs(\n    title = \"Body mass by species, faceted by island\",\n    subtitle = \"Gentoo generally heavier; island context matters\",\n    x = \"Species\",\n    y = \"Body mass (kg)\",\n    caption = \"Data: palmerpenguins\"\n  ) +\n  theme(legend.position = \"none\")\n```\n\n# Plot c -Histogram\n\n```{r}\nggplot(peng, aes(body_mass_kg)) +\n  geom_histogram(bins = 25) +                  # geom_histogram()\n  labs(\n    title = \"Distribution of penguin body mass\",\n    subtitle = \"Right-skew with a heavier tail among Gentoo\",\n    x = \"Body mass (kg)\",\n    y = \"Count\",\n    caption = \"Data: palmerpenguins\"\n  )\n```\n\n# External image \n\n![](https://upload.wikimedia.org/wikipedia/commons/0/0b/Pygoscelis_adeliae_2.jpg){fig-alt=\"Adélie penguin.\" width=\"50%\" fig-cap=\"Adélie penguin. Source: Wikimedia Commons (CC BY-SA 3.0).\"}\n\n# Summary Table.\n\n```{r}\nsummary_tbl <- peng |>\n  dplyr::group_by(species, sex) |>          # group_by()\n  dplyr::summarise(\n    n = dplyr::n(),\n    mean_mass = mean(body_mass_kg),\n    sd_mass = sd(body_mass_kg),\n    .groups = \"drop\"\n  ) |>\n  dplyr::arrange(species, sex)\n\nsummary_tbl |>\n  gt() |>\n  tab_header(title = \"Body mass summary by species and sex\") |>\n  fmt_number(columns = c(mean_mass, sd_mass), decimals = 2)\n```\n\n::: callout-warning\n**Method note.** We removed rows with missing key fields for clarity in visualization. Different imputation choices could be justified for modeling.\n:::\n\n::: callout-note\n**Interpretation tip.** Species differ strongly in body mass and bill metrics; island strata may mediate distributions.\n:::\n\n## **Summary**\n\nThe dataset shows clear morphological separation among species, with Gentoo typically heavier and with longer bills than Adelie and Chinstrap. Faceting by island suggests context matters: distributions shift by location, hinting at ecological or sampling differences. Sex also contributes to variance in mass, consistent with mild sexual dimorphism. Together, these patterns are easy to communicate with tidy wrangling and layered graphics.\n\n## **Function checklist** \n\n-   **dplyr:** mutate, select, arrange, group_by, summarise, n\n\n-   **tidyr:** drop_na, pivot_longer\n\n-   **ggplot2:** geom_point, geom_smooth, geom_boxplot, geom_histogram, facet_wrap, plus labs, theme\n\n##  **Citations**\n\nWe used palmerpenguins \\[\\@horst2020palmerpenguins\\], tidy data manipulation \\[\\@wickham2014dplyr\\], and grammar of graphics \\[\\@wickham2016ggplot2\\].\n\n[\n](2f) references.bibMenu: File ▸ New File ▸ Text File → Save as references.bib ```bibtex @misc{horst2020palmerpenguins, title = {palmerpenguins: Palmer Archipelago (Antarctica) penguin data}, author = {Horst, Allison Marie and Hill, Alison Presmanes and Gorman, Kristen Brandon}, year = {2020}, howpublished = {\\url{https://allisonhorst.github.io/palmerpenguins/}}, note = {R package} }@article{wickham2014dplyr, title={dplyr: a Grammar of Data Manipulation}, author={Wickham, Hadley and Francois, Romain and Henry, Lionel and M{\"u}ller, Kirill}, journal={R package version}, volume={0.1}, year={2014}, howpublished = {\\url{https://CRAN.R-project.org/package=dplyr}} }@book{wickham2016ggplot2, title={ggplot2: Elegant Graphics for Data Analysis}, author={Wickham, Hadley}, year={2016}, publisher={Springer}, edition={2nd} })\n","srcMarkdownNoYaml":"\n\n```{r}\n#| label: setup \n\n#| include: false \n\nlibrary(tidyverse) \n\nlibrary(palmerpenguins) \n\nlibrary(janitor)\n\n library(lubridate) \n\nlibrary(gt) \n\ntheme_set(theme_minimal(base_size = 13))\n\n\n```\n\n::: callout-important\n**Question.** How do **species** and **island** relate to **body mass** and **bill measurements** in penguins, and what patterns emerge across **sex**?\n\n**Intended audience.** Public-health and ecology students learning tidy data analysis and visualization who want an approachable, fully reproducible example.\n:::\n\n::: column-margin\n**Margin note:** The Palmer Archipelago hosts Adelie, Gentoo, and Chinstrap penguins—classic for tidyverse teaching.\n:::\n\n-   **Original data:** The palmerpenguins R package provides cleaned measurements of penguins from the Palmer Archipelago, Antarctica \\[\\@horst2020palmerpenguins\\].\n\n    **Where to get it:** CRAN package palmerpenguins.\n\n    **Data dictionary:** https://allisonhorst.github.io/palmerpenguins/reference/penguins.html\n\n    # \n    Minimal Wrangling\n\n```{r}\npeng <- penguins |>\n  janitor::clean_names() |>                                 # clean_names()  — janitor\n  tidyr::drop_na(species, island, sex, body_mass_g,\n                 bill_length_mm, bill_depth_mm) |>          # drop_na()     — tidyr\n  dplyr::mutate(\n    body_mass_kg = body_mass_g / 1000,                      # mutate()      — dplyr\n    species = forcats::fct_reorder(species, body_mass_kg, .fun = median)\n  ) |>\n  dplyr::select(species, island, sex, bill_length_mm,\n                bill_depth_mm, body_mass_kg) |>             # select()      — dplyr\n  dplyr::arrange(species, island)                           # arrange()     — dplyr\n\nlong_bills <- peng |>\n  tidyr::pivot_longer(                                      # pivot_longer()— tidyr\n    c(bill_length_mm, bill_depth_mm),\n    names_to = \"bill_metric\",\n    values_to = \"bill_value\"\n  )\n```\n\n# Plot A-Scatter plot\n\n```{r}\nggplot(peng, aes(bill_length_mm, bill_depth_mm, color = species)) +\n  geom_point(alpha = 0.7) +                    # geom_point()\n  geom_smooth(se = FALSE, method = \"loess\") +  # geom_smooth()\n  labs(\n    title = \"Bill length vs. depth by species\",\n    subtitle = \"Distinct morphologies separate species in bill space\",\n    x = \"Bill length (mm)\",\n    y = \"Bill depth (mm)\",\n    caption = \"Data: palmerpenguins\"\n  )\n```\n\n# **Plot B- Boxplot (Faceted)**\n\n```{r}\nggplot(peng, aes(species, body_mass_kg, fill = species)) +\n  geom_boxplot(outlier.alpha = 0.4) +          # geom_boxplot()\n  facet_wrap(~ island) +                       # faceting requirement\n  labs(\n    title = \"Body mass by species, faceted by island\",\n    subtitle = \"Gentoo generally heavier; island context matters\",\n    x = \"Species\",\n    y = \"Body mass (kg)\",\n    caption = \"Data: palmerpenguins\"\n  ) +\n  theme(legend.position = \"none\")\n```\n\n# Plot c -Histogram\n\n```{r}\nggplot(peng, aes(body_mass_kg)) +\n  geom_histogram(bins = 25) +                  # geom_histogram()\n  labs(\n    title = \"Distribution of penguin body mass\",\n    subtitle = \"Right-skew with a heavier tail among Gentoo\",\n    x = \"Body mass (kg)\",\n    y = \"Count\",\n    caption = \"Data: palmerpenguins\"\n  )\n```\n\n# External image \n\n![](https://upload.wikimedia.org/wikipedia/commons/0/0b/Pygoscelis_adeliae_2.jpg){fig-alt=\"Adélie penguin.\" width=\"50%\" fig-cap=\"Adélie penguin. Source: Wikimedia Commons (CC BY-SA 3.0).\"}\n\n# Summary Table.\n\n```{r}\nsummary_tbl <- peng |>\n  dplyr::group_by(species, sex) |>          # group_by()\n  dplyr::summarise(\n    n = dplyr::n(),\n    mean_mass = mean(body_mass_kg),\n    sd_mass = sd(body_mass_kg),\n    .groups = \"drop\"\n  ) |>\n  dplyr::arrange(species, sex)\n\nsummary_tbl |>\n  gt() |>\n  tab_header(title = \"Body mass summary by species and sex\") |>\n  fmt_number(columns = c(mean_mass, sd_mass), decimals = 2)\n```\n\n::: callout-warning\n**Method note.** We removed rows with missing key fields for clarity in visualization. Different imputation choices could be justified for modeling.\n:::\n\n::: callout-note\n**Interpretation tip.** Species differ strongly in body mass and bill metrics; island strata may mediate distributions.\n:::\n\n## **Summary**\n\nThe dataset shows clear morphological separation among species, with Gentoo typically heavier and with longer bills than Adelie and Chinstrap. Faceting by island suggests context matters: distributions shift by location, hinting at ecological or sampling differences. Sex also contributes to variance in mass, consistent with mild sexual dimorphism. Together, these patterns are easy to communicate with tidy wrangling and layered graphics.\n\n## **Function checklist** \n\n-   **dplyr:** mutate, select, arrange, group_by, summarise, n\n\n-   **tidyr:** drop_na, pivot_longer\n\n-   **ggplot2:** geom_point, geom_smooth, geom_boxplot, geom_histogram, facet_wrap, plus labs, theme\n\n##  **Citations**\n\nWe used palmerpenguins \\[\\@horst2020palmerpenguins\\], tidy data manipulation \\[\\@wickham2014dplyr\\], and grammar of graphics \\[\\@wickham2016ggplot2\\].\n\n[\n](2f) references.bibMenu: File ▸ New File ▸ Text File → Save as references.bib ```bibtex @misc{horst2020palmerpenguins, title = {palmerpenguins: Palmer Archipelago (Antarctica) penguin data}, author = {Horst, Allison Marie and Hill, Alison Presmanes and Gorman, Kristen Brandon}, year = {2020}, howpublished = {\\url{https://allisonhorst.github.io/palmerpenguins/}}, note = {R package} }@article{wickham2014dplyr, title={dplyr: a Grammar of Data Manipulation}, author={Wickham, Hadley and Francois, Romain and Henry, Lionel and M{\"u}ller, Kirill}, journal={R package version}, volume={0.1}, year={2014}, howpublished = {\\url{https://CRAN.R-project.org/package=dplyr}} }@book{wickham2016ggplot2, title={ggplot2: Elegant Graphics for Data Analysis}, author={Wickham, Hadley}, year={2016}, publisher={Springer}, edition={2nd} })\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"paged","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.scss"],"toc":true,"toc-depth":3,"number-sections":false,"include-in-header":["_icons.html"],"output-file":"example-analysis.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.25","theme":"cosmo","title":"Example analysis: Palmer Penguins","bibliography":["references.bib"],"link-citations":true},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}